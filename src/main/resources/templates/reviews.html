<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reviews</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</head>
<body>

<div class="container my-3 px-5">

    <h2 class="text-center my-3">FILTER REVIEWS</h2>

    <form th:action="@{/reviews}" method="get">

        <div class="form-group">

            <label for="ratingOrder" class="my-2">Order by rating:</label>
            <select class="form-select" id="ratingOrder" name="ratingOrder" th:selected="${ratingOrder}">
                <option value="Highest First">Highest First</option>
                <option value="Lowest First">Lowest First</option>
            </select>

            <label for="minRating" class="my-2">Minimum rating:</label>
            <select class="form-select" id="minRating" name="minRating" th:selected="${minRating}">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>

            <label for="dateOrder" class="my-2">Order by date:</label>
            <select class="form-select" id="dateOrder" name="dateOrder" th:selected="${dateOrder}">
                <option value="Newest First">Newest First</option>
                <option value="Oldest First">Oldest First</option>
            </select>

            <label for="textPriority" class="my-2">Prioritize by text:</label>
            <select class="form-select" id="textPriority" name="textPriority" th:selected="${textPriority}">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>

        </div>

        <button type="submit" class="my-2 btn btn-primary">Filter</button>

    </form>

</div>

<div class="container">
    <h2 class="text-center my-3">REVIEWS</h2>
    <table class="table table-light table-striped">
        <thead class="text-center">
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Date</th>
            <th scope="col">Rating</th>
            <th scope="col">Text</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="review : ${orderedReviews}">
            <td class="text-center" th:text="${review.getId()}"></td>
            <td class="text-center" th:text="${review.getReviewCreatedOnDate()}"></td>
            <td class="text-center" th:text="${review.getRating()}"></td>
            <td class="text-center" th:text="${review.getReviewFullText()}"></td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>